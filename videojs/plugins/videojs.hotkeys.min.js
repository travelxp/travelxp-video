/**
 * @license
 * Copyright (c) 2023 The Nuevodevel Team. All rights reserved.
 * Hotkeys Plugin for Video.js v8
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.videojs):t(e,e.videojs)}(window,function(e,t){"use strict";e.videojs_hotkeys={version:"0.2.16"};t.registerPlugin||t.plugin;t.registerPlugin("hotkeys",function(n){this.ready(function(){!function(n,o){var r=n.el(),u=document,l={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!0,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}};t.options.blockKeys=!1;var i=!1;t.obj.merge,o=t.obj.merge(l,o||{}),n.on("dispose",function(){document.removeEventListener("keydown",w),n.off("keydown",w),n.off("dblclick",K),n.off("mousewheel",E),n.off("DOMMouseScroll",E)});var c=o.volumeStep,a=o.seekStep,s=o.enableMute,f=o.enableVolumeScroll,m=(o.enableHoverScroll,o.enableFullscreen),y=o.enableNumbers,v=o.enableJogStyle,d=o.alwaysCaptureHotkeys,b=o.captureDocumentHotkeys,k=(o.documentHotkeysFocusElementFilter,o.enableModifiersForNumbers),p=o.enableInactiveFocus,h=o.skipInitialFocus;r.hasAttribute("tabIndex")||r.setAttribute("tabIndex","-1"),r.style.outline="none",!d&&n.autoplay()||h||n.one("play",function(){r.focus()}),p&&n.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){n.off("useractive",e);var t=u.activeElement,o=r.querySelector(".vjs-control-bar");t&&t.parentElement==o&&r.focus()},10);n.one("useractive",e)}),n.on("play",function(){var e=r.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var w=function(l){var f,p=l.which||l.keyCode;if((!l.shiftKey||188===p||190===p)&&!l.ctrlKey&&!l.altKey&&n.controls()){if([32,179,77,70].includes(p)){var h=(l.target||l.srcElement).tagName;if("INPUT"===h||"TEXTAREA"===h||"SELECT"===h)return}var w=u.activeElement;if(d||w==r||w==r.querySelector(".vjs-tech")||w==r.querySelector(".vjs-control-bar")||w==r.querySelector(".iframeblocker")){if([70,77,40,38,39,176,37,177,32,179].includes(p)&&(l.preventDefault(),(d||b)&&(l.stopPropagation||e.event)),(70===p||77===p||32===p||179===p)&&i)return;i=!0;var K=n.playbackRates();if(l.shiftKey&&188==p){K.sort(function(e,t){return t-e});for(var S=0;S<K.length;S++)if(K[S]<n.playbackRate()){n.setRate(K[S]);break}}if(l.shiftKey&&190==p)for(K.sort(function(e,t){return e-t}),S=0;S<K.length;S++)if(K[S]>n.playbackRate()){n.setRate(K[S]);break}switch(T(l,n)){case 1:n.paused()?n.play():n.pause();break;case 2:if(t.options.blockKeys)break;f=n.currentTime()-a,n.currentTime()<=a&&(f=0),n.currentTime(f);break;case 3:if(t.options.blockKeys)break;n.currentTime(n.currentTime()+a);break;case 5:if(l.stopPropagation(),t.options.blockKeys)break;v?(f=n.currentTime()-1,n.currentTime()<=1&&(f=0),n.currentTime(f)):n.volume(n.volume()-c);break;case 4:if(t.options.blockKeys)break;v?n.currentTime(n.currentTime()+1):n.volume(n.volume()+c);break;case 6:s&&n.muted(!n.muted());break;case 7:m&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:if((p>47&&p<59||p>95&&p<106)&&(k||!(l.metaKey||l.ctrlKey||l.altKey))&&y){var E=48;p>95&&(E=96);var F=p-E;l.preventDefault(),n.currentTime(n.duration()*F*.1)}for(var g in o.customKeys){var j=o.customKeys[g];j&&j.key&&j.handler&&j.key(l)&&(l.preventDefault(),j.handler(n,o))}}}}},K=function(e){if(n.controls()){var t=e.relatedTarget||e.toElement||u.activeElement;t!=r&&t!=r.querySelector(".vjs-tech")&&t!=r.querySelector(".iframeblocker")||m&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}},S=r.querySelector(".vjs-volume-menu-button")||r.querySelector(".vjs-volume-panel");null!=S&&(S.onmouseover=function(){},S.onmouseout=function(){});var E=function(t){if(n.controls()){var o=t.relatedTarget||t.toElement||u.activeElement;if((d||o==r||o==r.querySelector(".vjs-tech")||o==r.querySelector(".iframeblocker")||o==r.querySelector(".vjs-control-bar"))&&f){t=e.event||t;var l=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==l?n.volume(n.volume()+c):-1==l&&n.volume(n.volume()-c)}}},T=function(e,t){return o.playPauseKey(e,t)?1:o.rewindKey(e,t)?2:o.forwardKey(e,t)?3:o.volumeUpKey(e,t)?4:o.volumeDownKey(e,t)?5:o.muteKey(e,t)?6:o.fullscreenKey(e,t)?7:void 0};function F(){i=!1}document.addEventListener("keydown",w,!1),document.addEventListener("keyup",F,!1),n.on("dispose",function(){document.removeEventListener("keydown",w),document.removeEventListener("keyup",F)}),n.on("keydown",w),n.on("keyup",F),n.on("dblclick",K),n.on("mousewheel",E),n.on("DOMMouseScroll",E)}(this,n)})})});
